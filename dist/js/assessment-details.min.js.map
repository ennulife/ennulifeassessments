{"version":3,"file":"js/assessment-details.min.js","mappings":"CAIA,WACC,aAEAA,SAASC,iBAAiB,mBAAoB,YAI9C,WACC,IAAMC,EAAMF,SAASG,eAAe,2BACpC,GAAKD,GAAwB,oBAAVE,OAMkB,oBAA1BC,uBAA0CA,sBAAsBC,aAA3E,CAKA,IAAMC,EAAYF,sBAAsBC,aAAaE,IAAI,SAAAC,GAAI,MAAK,CACjEC,EAAG,IAAIC,KAAKF,EAAKG,MACjBC,EAAGJ,EAAKK,MACR,GAGwB,IAArBP,EAAUQ,OAOd,IAAIX,MAAMF,EAAK,CACdc,KAAM,OACNC,KAAM,CACLC,SAAU,CAAC,CACVC,MAAOd,sBAAsBe,eAAiB,SAC9CH,KAAMV,EACNc,YAAa,wBACbC,gBAAiB,0BACjBC,MAAM,EACNC,QAAS,GACTC,YAAa,EACbC,iBAAkB,EAClBC,qBAAsB,wBACtBC,iBAAkB,OAClBC,iBAAkB,KAGpBC,QAAS,CACRC,YAAY,EACZC,qBAAqB,EACrBC,OAAQ,CACPvB,EAAG,CACFM,KAAM,OACNkB,KAAM,CACLC,KAAM5B,EAAUQ,OAAS,GAAK,OAAS,MACvCqB,eAAgB,CACfC,IAAK,QACLC,KAAM,UAGRC,KAAM,CACLC,MAAO,4BAERC,MAAO,CACND,MAAO,6BAGT3B,EAAG,CACF6B,aAAa,EACbC,IAAK,GACLJ,KAAM,CACLC,MAAO,4BAERC,MAAO,CACND,MAAO,2BACPI,SAAU,KAIbC,QAAS,CACRC,OAAQ,CACPC,SAAS,GAEVC,QAAS,CACR1B,gBAAiB,qBACjB2B,WAAY,OACZC,UAAW,OACX7B,YAAa,wBACb8B,YAAa,EACbC,eAAe,EACfC,UAAW,CACVC,MAAO,SAASC,GAEf,OADa,IAAI5C,KAAK4C,EAAa,GAAGC,OAAO9C,GACjC+C,mBAAmB,QAAS,CACvCC,MAAO,QACPrB,IAAK,UACLsB,KAAM,WAER,EACAxC,MAAO,SAASyC,GACf,MAAO,UAAYA,EAAQJ,OAAO3C,EAAEgD,QAAQ,EAC7C,QA5Ec3D,EAAI4D,cACZC,UAAY,qJAXvB,CA4FD,CA1GCC,EACD,EA2GA,CAhHD,CAgHGC","sources":["webpack://ennulife-assessments/./assets/js/assessment-details.js"],"sourcesContent":["/**\n * ENNU Life Assessment Details JavaScript\n * Handles the timeline chart for individual assessment progress\n */\n(function ($) {\n\t'use strict';\n\n\tdocument.addEventListener('DOMContentLoaded', function() {\n\t\tinitializeTimelineChart();\n\t});\n\n\tfunction initializeTimelineChart() {\n\t\tconst ctx = document.getElementById('assessmentTimelineChart');\n\t\tif (!ctx || typeof Chart === 'undefined') {\n\t\t\tconsole.error('Chart.js not loaded or canvas element not found');\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if we have the localized data\n\t\tif (typeof assessmentDetailsData === 'undefined' || !assessmentDetailsData.scoreHistory) {\n\t\t\tconsole.error('Assessment timeline data not available');\n\t\t\treturn;\n\t\t}\n\n\t\tconst chartData = assessmentDetailsData.scoreHistory.map(item => ({\n\t\t\tx: new Date(item.date),\n\t\t\ty: item.score\n\t\t}));\n\n\t\t// Only render chart if we have data\n\t\tif (chartData.length === 0) {\n\t\t\t// Show a message instead of empty chart\n\t\t\tconst container = ctx.parentElement;\n\t\t\tcontainer.innerHTML = '<p style=\"text-align: center; color: var(--text-light); padding: 40px;\">Complete this assessment multiple times to see your progress over time.</p>';\n\t\t\treturn;\n\t\t}\n\n\t\tnew Chart(ctx, {\n\t\t\ttype: 'line',\n\t\t\tdata: {\n\t\t\t\tdatasets: [{\n\t\t\t\t\tlabel: assessmentDetailsData.assessmentType + ' Score',\n\t\t\t\t\tdata: chartData,\n\t\t\t\t\tborderColor: 'rgba(52, 211, 153, 1)',\n\t\t\t\t\tbackgroundColor: 'rgba(52, 211, 153, 0.1)',\n\t\t\t\t\tfill: true,\n\t\t\t\t\ttension: 0.4,\n\t\t\t\t\tpointRadius: 5,\n\t\t\t\t\tpointHoverRadius: 7,\n\t\t\t\t\tpointBackgroundColor: 'rgba(52, 211, 153, 1)',\n\t\t\t\t\tpointBorderColor: '#fff',\n\t\t\t\t\tpointBorderWidth: 2\n\t\t\t\t}]\n\t\t\t},\n\t\t\toptions: {\n\t\t\t\tresponsive: true,\n\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\tscales: {\n\t\t\t\t\tx: {\n\t\t\t\t\t\ttype: 'time',\n\t\t\t\t\t\ttime: {\n\t\t\t\t\t\t\tunit: chartData.length > 30 ? 'week' : 'day',\n\t\t\t\t\t\t\tdisplayFormats: {\n\t\t\t\t\t\t\t\tday: 'MMM d',\n\t\t\t\t\t\t\t\tweek: 'MMM d'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgrid: {\n\t\t\t\t\t\t\tcolor: 'rgba(255, 255, 255, 0.1)'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tcolor: 'rgba(255, 255, 255, 0.7)'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ty: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tmax: 10,\n\t\t\t\t\t\tgrid: {\n\t\t\t\t\t\t\tcolor: 'rgba(255, 255, 255, 0.1)'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tcolor: 'rgba(255, 255, 255, 0.7)',\n\t\t\t\t\t\t\tstepSize: 2\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: {\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: {\n\t\t\t\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0.8)',\n\t\t\t\t\t\ttitleColor: '#fff',\n\t\t\t\t\t\tbodyColor: '#fff',\n\t\t\t\t\t\tborderColor: 'rgba(52, 211, 153, 1)',\n\t\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\t\tdisplayColors: false,\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\ttitle: function(tooltipItems) {\n\t\t\t\t\t\t\t\tconst date = new Date(tooltipItems[0].parsed.x);\n\t\t\t\t\t\t\t\treturn date.toLocaleDateString('en-US', { \n\t\t\t\t\t\t\t\t\tmonth: 'short', \n\t\t\t\t\t\t\t\t\tday: 'numeric', \n\t\t\t\t\t\t\t\t\tyear: 'numeric' \n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlabel: function(context) {\n\t\t\t\t\t\t\t\treturn 'Score: ' + context.parsed.y.toFixed(1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n})(jQuery); "],"names":["document","addEventListener","ctx","getElementById","Chart","assessmentDetailsData","scoreHistory","chartData","map","item","x","Date","date","y","score","length","type","data","datasets","label","assessmentType","borderColor","backgroundColor","fill","tension","pointRadius","pointHoverRadius","pointBackgroundColor","pointBorderColor","pointBorderWidth","options","responsive","maintainAspectRatio","scales","time","unit","displayFormats","day","week","grid","color","ticks","beginAtZero","max","stepSize","plugins","legend","display","tooltip","titleColor","bodyColor","borderWidth","displayColors","callbacks","title","tooltipItems","parsed","toLocaleDateString","month","year","context","toFixed","parentElement","innerHTML","initializeTimelineChart","jQuery"],"sourceRoot":""}